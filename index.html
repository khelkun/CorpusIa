<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/nano.min.css" />
</head>

<body>

  <div class="canvas-container">
    <!-- CANVAS -->
    <canvas id="display-canvas" oncontextmenu="event.preventDefault()"></canvas>
  </div>
  <div class="all">
    <div class="sliderARM">
      <h4>Metallic :</h4>
      <span>0</span><input type="range" min="0" max="1" value="0.5" class="slider" id="metallic" step="0.01" />
      <span>1</span>
      <p>Your input : <span id="metallicOutput"></span></p>

      <h4>Roughness :</h4>
      <span>0</span><input type="range" min="0" max="1" value="1" class="slider" id="roughness" step="0.1" />
      <span>1</span>
      <p>Your input : <span id="roughnessOutput"></span></p>

      <h4>Ambient Occlusion :</h4>
      <span>0</span><input type="range" min="0" max="1" value="1" class="slider" id="ambientOcclusion" step="0.1" />
      <span>1</span>
      <p>Your input : <span id="ambientOcclusionOutput"></span></p>

      <h4>Emission intensisty</h4>
      <span>0</span>
      <input type="range" min="0" max="1" value="1" class="slider" id="emission" step="0.1" />
      <span>1</span>
      <p>Your input : <span id="EmissionIntensityOutput"></span></p>
    </div>

    <div class="sliderClearCoat">
      <h4>ClearCoat Strenght</h4>
      <span>0</span>
      <input type="range" min="0" max="1" value="0.2" class="slider" id="clearCoatStrength" step="0.1" />
      <span>1</span>
      <p>Your input : <span id="ClearCoatStrengthOutput"></span></p>
    </div>



    <div class="displaybutton">
      <div class="allbutton">
        <button onclick="toggleRotate()">Rotate</button>
        <button onclick="updateCamera('sharpen')">Toggle Sharpen</button>
        <button onclick="updateCamera('filterSpecular')">
          Toggle Filter Specular
        </button>
        <button onclick="updateCamera('bloom')">Toggle Bloom</button>
        <button onclick="updateCamera('atmosphere'); setSunVisibility(true)">Toggle Atmosphere</button>
        <button onclick="updateCamera('gradient'); setSunVisibility(false)">Toggle Gradient</button>
        <div class="color">
          <div class="colorButton">
            <button onclick="DoubleSided()">Double sided Button</button>
            <div class="color-picker"></div>
          </div>
        </div>
      </div>
    </div>





    <div class="Set Sun ">
      <h4>Sun X Orientation :</h4>
      <span>0</span><input type="range" min="0" max="360" value="145" class="slider" id="sunXRange" step="5" />
      <span>360</span>
      <p>Your input : <span id="sunXOutput"></span></p>

      <!-- Ajoutez une classe "" à ces éléments -->
      <h4>Sun Y Orientation :</h4>
      <span>0</span><input type="range" min="0" max="360" value="100" class="slider " id="sunYRange" step="5" />
      <span>360</span>
      <p>Your input : <span id="sunYOutput"></span></p>

      <h4>Sun Z Orientation :</h4>
      <span>0</span><input type="range" min="0" max="360" value="200" class="slider " id="sunZRange" step="5" />
      <span>360</span>
      <p>Your input : <span id="sunZOutput"></span></p>

      <button onclick="getSun()" class="">Get Sun</button>
    </div>
  </div>





  <!-- LIVELINK SDK -->
  <script src="https://cdn.3dverse.com/legacy/sdk/latest/SDK3DVerse.js"></script>
  <script src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
  <script>
    // Simple example, see optional options for more configuration.
    const pickr = Pickr.create({
      el: ".color-picker",
      theme: "nano", // or 'monolith', or 'nano'

      swatches: [
        "rgba(7, 192, 99, 0.95)",
      ],

      components: {
        // Main components
        preview: true,
        hue: true,

        // Input / output Options
        interaction: {
          hex: true,
          rgba: true,
          input: true,
          save: true,
        },
      },
    });

    pickr.on("change", async (...args) => {
      let color = args[0].toRGBA();
      let numericValues = color.map((value) => value / 255);
      this.colorPicked = numericValues;
      const entity = (await SDK3DVerse.engineAPI.findEntitiesByEUID("62d404e7-2114-4eab-81dd-778cf884e9d4"))[0]
      desc(entity)
    });

    pickr.on("save", (...args) => {
      let color = args[0].toRGBA();
      console.log(color);
      pickr.addSwatch(`rgba(${color[0]}, ${color[1]}, ${color[2]}, ${color[3]})`);
    });
  </script>

</body>

</html>